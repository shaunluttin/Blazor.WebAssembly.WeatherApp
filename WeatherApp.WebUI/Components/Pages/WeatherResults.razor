@page "/weather/{CityName}/{CityId}"
@using System.ComponentModel.DataAnnotations
@using WeatherApp.WebUI.Models
@using WeatherApp.WebUI.Services
@inject IWeatherService WeatherService

<PageTitle>Weather</PageTitle>

<h1>Weather</h1>

<p>This component demonstrates showing data.</p>

@if (report == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <ul>
        <li>Fahrenheit: @report.Current.Fahrenheit</li>
        <li>Celsius</li>
        <li>Feels Like, Fahrenheit</li>
        <li>Feels Like, Celsius</li>
        <li>Humidity</li>
        <li>Atmospheric Pressure</li>
        <li>Wind Speed</li>
        <li>UV Index</li>
        <li>3-day Forecast</li>
    </ul>
}

@code {
    @* We use this one simply to make the URI readably for the end-user. *@
    [Parameter]
    public required string CityName {get; set;}

    @* We use this one to lookup the city from the API. *@
    [Parameter]
    public required string CityId {get; set;}

    private WeatherLocationReport report;

    protected override async Task OnInitializedAsync()
    {
        report = await WeatherService.GetCurrentWeatherByCityId(10);
    }
}